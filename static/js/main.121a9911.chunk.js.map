{"version":3,"sources":["panels/FormsPanels/SearchPanel.js","panels/MapPanels/PanelsLeafletMap.js","panels/MapPanels/MapsEmpty.js","panels/FormsPanels/MocksSettingsPanel.js","api/client.js","panels/FormsPanels/MocksSettingsPanelEmpty.js","panels/MocksSettings.js","panels/MenuItems.js","panels/MapPanels/Markers.js","panels/FormsPanels/PopupViewMapData.js","panels/MapPanels/PopupSettings.js","panels/MainMap.js","App.js","index.js"],"names":["SearchPanel","rows","onSelect","useState","search","setSearch","thematics","setThematics","useEffect","search_l","toLowerCase","filter","name","indexOf","get_thematics","SelectCell","id","separator","mode","value","onChange","e","target","className","length","map","thematic","onClick","bind","url","process","Zoom","maps","zoomIn","src","alt","Zoom2","zoomOut","ZoomPanel","MyLocation","handler","CustomZoomPanel","useMap","CustomLocationBtn","useMapEvents","locationfound","flyTo","latlng","getZoom","animate","locate","Map","height","children","MapContainer","zoomControl","style","center","zoom","scrollWheelZoom","TileLayer","boxZoom","attribution","AlertDeletePopout","onConfirm","onClose","actions","title","autoclose","action","actionsLayout","header","text","FormItemMinMax","min","max","top","bottom","defaultValue","getRef","ref","NameInput","setName","isUpdated","paddingLeft","event","placeholder","MocksSettingsPanel","onSave","onDelete","data","buttonLoadingState","globalSetModalView","undefined","textError","setError","ref_dats","components","viewData","setViewData","identifier","setIdentifier","SettingsForms","type","ans","field","push","React","createRef","generateAndRefDefaultData","default_","default_data_generate","createDataDefault","GenerateDataRefForms","i","key","onRemove","modalDelete","open","close","ViewForms","size","disabled","uuid","values","validate_on_params","params","error","new_value","parseInt","isNaN","parseFloat","toString","current","error1","error2","ValidateDataRefForms","trim","ValidateIdentifierOnCreate","stretched","fixed","left","instance","axios","create","headers","withCredentials","PathSubUrl","Url","path","startsWith","MocksGet","a","method","then","res","status","ids","GetDataGeoCode","lat","lng","response","err","console","log","LastTelemetriesSensors","auto","level","level_light","MocksSettingsPanelEmpty","icon","href","MocksSettings","defaultViewDetailModalInfo","view","payloadMocksSettings","setPayloadMocksSettings","dataSearch","setDataSearch","viewDetailModalInfo","setViewDetailModalInfo","viewDetailModal","find","newViewDetailModalInfo","JSON","parse","stringify","client","Array","isArray","load","searchData","item","after","fieldIndexDeleted","findIndex","splice","isCreatedNew","fieldIndexUpdated","unshift","LinkTo","document","querySelector","click","MainMenuIcon","collapsed","LeftMenuItem","localStorage","getItem","setItem","loadCollapsed","setCollapsed","saveAndSetCollapsed","saveCollapsed","width","iconShape","display","iconDefault","L","Icon","iconUrl","iconRetinaUrl","iconAnchor","popupAnchor","shadowUrl","shadowSize","shadowAnchor","iconSize","Point","AutoLight","checked","setChecked","defaultChecked","LevelLightControl","setValue","step","v","TemperatureBlock","temperature","toFixed","ResourceAny","ResourceLed","ResourceController","MetaInfoBlock","addressName","setAddressName","window","FunctionCustomLoadAddress","LoadAddress","overflowY","HeaderBlock","SettingsBlock","light","autoLight","PopupViewMapData","PropTypes","shape","latitude","number","isRequired","longitude","instanceOf","string","bool","onChangeCommand","popUpLoad","setPopUpLoad","setAutoLight","autoLightDisabled","setAutoLightDisabled","setLightUpdatable","setLight","onChangeAutoLight","state","lampEnabled","setLampEnabled","onChangeHeaderSwitch","GroupViewData","positionMarker","PopupSettings","dataShape","Popup","position","MarkersList","coords","Marker","eventHandlers","MainMap","telemetry","setTelemetry","mapsCoordsData","setMapsCoordsData","popupSettingsView","setPopupSettingsView","setInterval","row","influx","ICCID","fieldIndexTelemetry","telemetry_data","Tamb_degC","command","App","setPopout","modalView","setModalView","fetchData","Wrapper","component","activePanel","exact","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.121a9911.chunk.js","sourcesContent":["import {Cell, Footer, Group, Search} from \"@vkontakte/vkui\";\nimport PropTypes from 'prop-types';\nimport React, {useEffect, useState} from \"react\";\n\nconst SearchPanel = ({rows, onSelect}) => {\n    const [search, setSearch] = useState('');\n    const [thematics, setThematics] = useState(rows);\n\n    useEffect(() => {\n        const get_thematics = (search) => {\n            const search_l = search.toLowerCase();\n            return rows.filter(({name}) => name.toLowerCase().indexOf(search_l) > -1);\n        }\n        setThematics(get_thematics(search));\n    }, [rows, search]);\n\n    const SearchThematics = (event) => {\n        setSearch(event.target.value);\n    }\n    const SelectCell = (id) => {\n        typeof onSelect === 'function' ? onSelect(id) : null;\n    }\n    return (\n        <Group separator='hide' mode='plain'>\n            <Search value={search} onChange={(e) => SearchThematics(e)}/>\n            <div className='scrolling-cell'>\n                {thematics.length > 0 && thematics.map(thematic => <Cell\n                    key={thematic.id} onClick={SelectCell.bind(this, thematic.id)}>{thematic.name}</Cell>)}\n                {thematics.length === 0 && <Footer>Ничего не найдено</Footer>}\n            </div>\n        </Group>\n    )\n}\nSearchPanel.propTypes = {\n    rows: PropTypes.arrayOf(PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        name: PropTypes.string.isRequired\n    })).isRequired,\n    onSelect: PropTypes.func\n};\nexport default SearchPanel;\n","import React from 'react';\nimport './PanelsLeafletMap.css';\nconst url = process.env.PUBLIC_URL + '/map-leaflet/';\nconst Zoom = ({maps}) => {\n    return(\n        <div onClick={() => {\n            maps.zoomIn();\n        }} className=\"zoom-top-bar-up zoom-top-bar-btn\">\n            <img src={url + \"plus.svg\"} alt=\"PlusZoom\"/>\n        </div>\n    )\n}\nconst Zoom2 = ({maps}) => {\n    return(\n        <div onClick={() => {\n            maps.zoomOut();\n        }} className=\"zoom-top-bar-down zoom-top-bar-btn\">\n            <img src={url + \"minus.svg\"} alt=\"MinusZoom\"/>\n        </div>\n    )\n}\n\nexport const ZoomPanel = ({maps}) => {\n    return (\n        <div className=\"zoom-top-bar\">\n            <Zoom maps={maps}/>\n            <Zoom2 maps={maps}/>\n        </div>\n    );\n}\nexport const MyLocation = ({handler}) => {\n    return (\n        <div onClick={handler} className=\"to-image-btn btn-my-location\">\n            <img src={url + \"find.svg\"} alt=\"MyLocation\"/>\n        </div>\n    )\n}\nexport default ZoomPanel;","import React, {useEffect, useState} from \"react\";\nimport {MapContainer, TileLayer, Marker, Popup, ZoomControl, useMap, useMapEvents, locationfound} from 'react-leaflet'\nimport {ZoomPanel, MyLocation} from \"./PanelsLeafletMap\";\nimport PropTypes from \"prop-types\";\n\nconst CustomZoomPanel = () => {\n    const map = useMap();\n    return (\n        <ZoomPanel maps={map}/>\n    )\n}\n\nconst CustomLocationBtn = () => {\n    const map = useMapEvents({\n        locationfound(e) {\n            map.flyTo(e.latlng, map.getZoom(), {\n                animate: false,\n            })\n        },\n    });\n    const handler = () => {\n        map.locate();\n    }\n    return <MyLocation handler={handler}/>;\n}\n\nexport const Map = ({className, height, children}) => {\n    return (\n        <MapContainer zoomControl={false} style={{height}} className={\"CustomMaps \" + className} center={[37.3257279,-122.0372682]} zoom={13} scrollWheelZoom={false}>\n            <CustomZoomPanel/>\n            <CustomLocationBtn />\n            <TileLayer\n                boxZoom={true}\n                attribution=''\n                //url=\"https://core-renderer-tiles.maps.yandex.net/tiles?l=map&v=21.06.04-0-b210520094930&x={x}&y={y}&z={z}&scale=1&lang=ru_RU\"\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n            {children}\n        </MapContainer>\n    );\n};\n\nMap.propTypes = {\n    className: PropTypes.string,\n    height: PropTypes.string.isRequired,\n    children: PropTypes.oneOfType([\n        PropTypes.arrayOf(PropTypes.element),\n        PropTypes.element\n    ])\n}","import {\n    Alert,\n    Button,\n    FormItem,\n    FormLayout,\n    FormLayoutGroup,\n    FormStatus,\n    Group,\n    Input,\n    PanelHeader,\n    PanelHeaderBack,\n    PanelHeaderButton,\n    Spinner\n} from \"@vkontakte/vkui\";\nimport { Icon28DeleteOutline } from '@vkontakte/icons';\nimport PropTypes from \"prop-types\";\nimport React, {useEffect, useState} from \"react\";\nimport {Map} from \"../MapPanels/MapsEmpty\";\n\nconst AlertDeletePopout = ({onConfirm, onClose}) => {\n    return (\n        <Alert\n            actions={[{\n                title: 'Отмена',\n                autoclose: true,\n                mode: 'cancel'\n            }, {\n                title: 'Удалить',\n                autoclose: true,\n                mode: 'destructive',\n                action: onConfirm\n            }]}\n            actionsLayout=\"horizontal\"\n            onClose={onClose}\n            header=\"Удаление данных\"\n            text=\"Вы уверены, что хотите удалить эти данные?\"\n        />\n    );\n}\n\nconst FormItemMinMax = ({name, min, max}) => {\n    return (\n        <FormLayoutGroup mode=\"horizontal\">\n            <FormItem top={name} bottom=\"Min\">\n                <Input defaultValue={min.value} getRef={min.ref}/>\n            </FormItem>\n            <FormItem top=\"...\" bottom=\"Max\">\n                <Input defaultValue={max.value} getRef={max.ref}/>\n            </FormItem>\n        </FormLayoutGroup>\n    )\n}\n\nconst NameInput = ({name, setName, isUpdated}) => {\n    if (isUpdated){\n        return name;\n    }\n    const loadData = (event) => {\n        setName(event.target.value)\n    }\n    return (\n        <div style={{paddingLeft: \"16px\"}}>\n            <Input onChange={loadData.bind(this)} placeholder={name}/>\n        </div>\n    )\n}\n\nconst MocksSettingsPanel = ({id, name, onSave, onDelete, data, buttonLoadingState, globalSetModalView}) => {\n    const isUpdated = (id !== null) && (id !== undefined);\n    const [textError, setError] = useState(false);\n    const [viewData, setViewData] = useState({ref_dats: null, components: null});\n    const [identifier, setIdentifier] = useState(id);\n\n    // function logic clear/validate\n    const SettingsForms = [\n        [\"light\", \"Уровень освещения\", {type: \"int\"}],\n        [\"Tamb_degC\", \"Tamb_degC\", {type: \"int\"}],\n        [\"latitude\", \"latitude\", {type: \"float\"}],\n        [\"longitude\", \"longitude\", {type: \"float\"}]\n    ];\n\n    const GenerateDataRefForms = (data) => {\n        const createDataDefault = (data) => {\n            if ((data === null) || (data === undefined)){\n                const default_ = {min: \"\", max: \"\"};\n                let default_data_generate = {};\n                for (const field of SettingsForms) {\n                    default_data_generate[field[0]] = default_;\n                }\n                return default_data_generate;\n            }\n            return data;\n        }\n        const generateAndRefDefaultData = (data) => {\n            let ans = [];\n            for (const field of SettingsForms) {\n                ans.push({\n                    name: field[1],\n                    min: {\n                        ref: React.createRef(),\n                        value: data[field[0]].min\n                    },\n                    max:{\n                        ref: React.createRef(),\n                        value: data[field[0]].max\n                    },\n                });\n            }\n            return ans;\n        }\n        return generateAndRefDefaultData(createDataDefault(data));\n    }\n\n    const ValidateDataRefForms = (ref_dats) => {\n        const validate_on_params = (params, value) => {\n            let error = false;\n            let new_value = undefined;\n            if (params.type === \"int\"){\n                new_value = parseInt(value);\n                error = isNaN(new_value) ? \"должно быть целым числом\": error;\n            }\n            if (params.type === \"float\"){\n                new_value = parseFloat(value);\n                error = isNaN(new_value) ? \"должно быть числом\": error;\n            }\n            if (error){\n                return [undefined, error];\n            }\n            if ((params.min !== undefined) && (new_value < params.min)){\n                return [undefined, \"должно быть не меньше \" + params.min.toString()];\n            }\n            if ((params.max !== undefined) && (new_value > params.max)){\n                return [undefined, \"должно быть не больше \" + params.max.toString()];\n            }\n            return [new_value, false];\n        }\n        let ans = {};\n        for (let i = 0; i < ref_dats.length; i++){\n            const field = SettingsForms[i];\n            let [min, error1] = validate_on_params(field[2], ref_dats[i].min.ref.current.value);\n            if (error1 !== false){\n                setError(`Параметр '`+field[1]+`' `+error1);\n                return null;\n            }\n            let [max, error2] = validate_on_params(field[2], ref_dats[i].max.ref.current.value);\n            if (error2 !== false){\n                setError(`Параметр '`+field[1]+`' `+error2);\n                return null;\n            }\n            ans[field[0]] = {min, max};\n        }\n        setError(false);\n        return ans;\n    }\n\n    const ValidateIdentifierOnCreate = (uuid) => {\n        if (!((typeof uuid === 'string') && (uuid.toString().trim().length > 0))){\n            setError(\"Идетификатор устройства должен быть заполнен\");\n            return null;\n        }\n        setError(false);\n        return uuid.toString().trim();\n    }\n\n    // SetUp\n    useEffect(() => {\n        if (data === null){\n            return true;\n        }\n        const ref_dats = GenerateDataRefForms(data);\n\n        const components = ref_dats.map((i, key) => {\n            return (<FormItemMinMax key={key} name={i.name} min={i.min} max={i.max}/>);\n        });\n        setViewData({\n            ref_dats,\n            components\n        });\n    }, [data, buttonLoadingState]);\n\n    // Btn handlers\n    const onSubmit = () => {\n        let uuid = id;\n        const values = ValidateDataRefForms(viewData.ref_dats);\n        if (!isUpdated){\n            uuid = ValidateIdentifierOnCreate(identifier);\n        }\n        if ((values !== undefined) && (values !== null) && (uuid !== null) && (uuid !== undefined)){\n            typeof onSave === 'function' ? onSave(values, uuid) : null;\n        }\n\n    }\n    const onRemove = () => {\n        typeof onDelete === 'function' ? onDelete(id) : null;\n    }\n    const modalDelete = {\n        open: () => {\n            globalSetModalView(<AlertDeletePopout onClose={modalDelete.close.bind(this)} onConfirm={onRemove.bind(this)}/>);\n        },\n        close: () => {globalSetModalView(null);}\n    }\n\n    const ViewForms = viewData.components === null ? <Spinner size=\"large\"/> : (\n        <FormLayout>\n            {textError ? (\n                <FormStatus header=\"Некорректное заполнение формы\" mode=\"error\">\n                    {textError}\n                </FormStatus>\n            ):null}\n            {viewData.components}\n            <FormItem>\n                <Map height={\"400px\"}/>\n            </FormItem>\n            <FormItem>\n                <Button disabled={buttonLoadingState} onClick={onSubmit} size=\"l\" stretched>\n                    {buttonLoadingState ? <Spinner size=\"small\"/> : (data === undefined ? \"Сохранить\" : \"Обновить\")}\n                </Button>\n            </FormItem>\n        </FormLayout>\n    )\n\n    return (\n        <Group separator='hide' mode='plain'>\n            <PanelHeader\n                fixed={false} separator={false}\n                left={isUpdated ?(\n                    <PanelHeaderButton onClick={modalDelete.open.bind(this)}>\n                        <Icon28DeleteOutline/>\n                    </PanelHeaderButton>\n                ) : null}\n            ><NameInput name={name} isUpdated={isUpdated} setName={(uuid) => {setIdentifier(uuid)}}/></PanelHeader>\n            <div className=\"scrolling-form\">\n                {ViewForms}\n            </div>\n        </Group>\n    );\n}\n\nconst TMinMax = PropTypes.shape({\n    min: PropTypes.number,\n    max: PropTypes.number,\n});\n\nconst TRefProp = PropTypes.oneOfType([\n    // Either a function\n    PropTypes.func,\n    // Or the instance of a DOM native element (see the note about SSR)\n    PropTypes.shape({ current: PropTypes.instanceOf(Element) })\n]);\n\nconst TRefAndValueInput = PropTypes.shape({\n    ref: TRefProp.isRequired,\n    value: PropTypes.string.isRequired,\n})\n\nFormItemMinMax.propTypes = {\n    name: PropTypes.string.isRequired,\n    data: PropTypes.shape({\n        min: TRefAndValueInput.isRequired,\n        max: TRefAndValueInput.isRequired,\n    })\n}\n\nAlertDeletePopout.propTypes = {\n    onConfirm: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired\n}\n\nMocksSettingsPanel.propTypes = {\n    id: PropTypes.string, // ID - Обратный реф. Если null или undefined, будет создаваться новый элемент\n    name: PropTypes.string.isRequired, // Название панели\n    onDelete: PropTypes.func, // Функция при удалении датчика\n    globalSetModalView: PropTypes.func, // Функция глобальной установки модального окна\n    data: PropTypes.shape({\n        light: TMinMax,\n        Tamb_degC: TMinMax,\n        latitude: TMinMax,\n        longitude: TMinMax,\n    }), // Если null, тогда будет прелоудер, Если undefined, тогда значения по умолчнаию вставятся в форму\n    onSave: PropTypes.func, // Событие при сохранении (передаётся объект с данными как в data)\n    buttonLoadingState: PropTypes.bool.isRequired, // true - кнопка будет в состоянии загрузки, false - в обычном состоянии\n\n};\n\nexport default MocksSettingsPanel;","import axios from 'axios';\n\nconst headers = {\n    'Content-type': 'application/json',\n};\n\nconst instance = axios.create({\n    headers,\n    withCredentials: true,\n});\n\nconst BaseUrl = \"http://localhost:10880/proxy\";\nexport const PathSubUrl = \"/platform-art-of-light\";\nconst Url = (path) => {\n    const path_base = path.startsWith(\"/\") ? path : \"/\" + path;\n    return BaseUrl + path_base;\n}\nexport async function MocksGet() {\n    return await instance({\n        method: 'get',\n        url: Url(\"api/mock\"),\n    }).then((res) => (res.data));\n}\nexport async function MocksSet(id, data){\n    return await instance({\n        method: 'post',\n        data: {\n            id,\n            ...data\n        },\n        url: Url(\"api/mock\"),\n    }).then((res) => (res.data.status === \"ok\"));\n}\nexport async function MocksDelete(id){\n    return await instance({\n        method: 'delete',\n        data: {\n            ids: [id],\n        },\n        url: Url(\"api/mock\"),\n    }).then((res) => (res.data.status === \"ok\"));\n}\n\nexport async function GetDataGeoCode(lat, lng){\n    return await instance({\n        method: 'post',\n        url: Url('/api/geocoder'),\n        data: {lat, lng}\n    }).then((res) => {\n        try {\n            return res.data.response[\"GeoObjectCollection\"][\"featureMember\"][0][\"GeoObject\"][\"metaDataProperty\"][\"GeocoderMetaData\"][\"Address\"][\"formatted\"]\n        } catch (err) {\n            console.log(err);\n            return \"Адрес не определён\";\n        }\n    })\n}\n\nexport async function LastTelemetriesSensors(){\n    return await instance({\n        method: 'get',\n        url: Url('/api/sensor/list'),\n    }).then((res) => {\n        return res.data;\n    })\n}\n\nexport async function PushCommandTelemetriesSensor(uuid, auto, level){\n    return await instance({\n        method: 'post',\n        url: Url('/api/command'),\n        data: {\n            id: uuid,\n            auto: auto,\n            level_light: level,\n        }\n    }).then((res) => {\n        try {\n            return res.data;\n        } catch (err) {\n            return \"error\";\n        }\n    })\n}","import {FormLayout, Group, Link, Placeholder} from \"@vkontakte/vkui\";\nimport {Icon56CheckCircleDeviceOutline} from \"@vkontakte/icons\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst MocksSettingsPanelEmpty = ({onClick}) => {\n    return (\n        <FormLayout>\n            <Group separator='hide' mode='plain'>\n                <div className=\"scrolling-form-no-header\">\n                    <Placeholder\n                        icon={<Icon56CheckCircleDeviceOutline />}\n                        stretched={true}\n                    >\n                        Выберите устройство или <Link onClick={onClick} href=\"#\">создайте новые данные</Link>\n                    </Placeholder>\n                </div>\n            </Group>\n        </FormLayout>\n    );\n}\nMocksSettingsPanelEmpty.propTypes = {\n    onClick: PropTypes.func.isRequired\n}\nexport default MocksSettingsPanelEmpty;","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n\tPanel,\n\tPanelHeader,\n} from '@vkontakte/vkui';\nimport {Icon28AddOutline} from \"@vkontakte/icons\";\nimport SearchPanel from \"./FormsPanels/SearchPanel\";\nimport MocksSettingsPanel from \"./FormsPanels/MocksSettingsPanel\";\nimport * as client from \"../api/client\";\nimport MocksSettingsPanelEmpty from \"./FormsPanels/MocksSettingsPanelEmpty\";\n\nconst MocksSettings = ({id, globalSetModalView}) => {\n\tconst defaultViewDetailModalInfo = {view: false, data: null, id: null, buttonLoadingState: false, name: null};\n\tconst [payloadMocksSettings, setPayloadMocksSettings] = useState([]);\n\tconst [dataSearch, setDataSearch] = useState([]);\n\tconst [viewDetailModalInfo, setViewDetailModalInfo] = useState(defaultViewDetailModalInfo);\n\tconst viewDetailModal = (id) => {\n\t\tif (id === null){\n\t\t\t// Create New\n\t\t\tsetViewDetailModalInfo({...defaultViewDetailModalInfo, name: \"Идентификатор устройства\", data: undefined, view: true});\n\t\t\treturn;\n\t\t}\n\t\tconst field = payloadMocksSettings.find(e => e[\"id\"] === id.toString());\n\t\t// Set active\n\t\tconst newViewDetailModalInfo = JSON.parse(JSON.stringify(viewDetailModalInfo));\n\t\tnewViewDetailModalInfo.data = field;\n\t\tnewViewDetailModalInfo.name = field.id;\n\t\tnewViewDetailModalInfo.id = field.id;\n\t\tnewViewDetailModalInfo.view = true;\n\t\tsetViewDetailModalInfo(newViewDetailModalInfo);\n\t}\n\tconst DeleteDetailModalData = (uuid) => {\n\t\tsetViewDetailModalInfo(defaultViewDetailModalInfo); // Очищаем активное окно\n\t\tconst fieldIndexDeleted= payloadMocksSettings.findIndex(e => e[\"id\"] === uuid.toString());\n\t\tif (fieldIndexDeleted !== -1){\n\t\t\tpayloadMocksSettings.splice(fieldIndexDeleted, 1);\n\t\t\tsetPayloadMocksSettings(JSON.parse(JSON.stringify(payloadMocksSettings)));\n\t\t}\n\t\tclient.MocksDelete(uuid).then();\n\t}\n\tconst SaveDetailModalData = (data, uuid) => {\n\t\t// Prepare and send server\n\t\tconst isCreatedNew = viewDetailModalInfo.id !== uuid\n\t\tif (isCreatedNew){\n\t\t\t// Created\n\t\t\tsetViewDetailModalInfo({view: true, id: uuid, name: uuid, data: data, buttonLoadingState: true});\n\t\t} else {\n\t\t\t// Updated\n\t\t\tsetViewDetailModalInfo({...viewDetailModalInfo, buttonLoadingState: true});\n\t\t}\n\t\tclient.MocksSet(\n\t\t\tuuid,\n\t\t\tdata\n\t\t).then((ans) => {\n\t\t\t// Get answer server\n\t\t\tif (ans === true){\n\t\t\t\tlet name = isCreatedNew ? uuid: viewDetailModalInfo.name;\n\t\t\t\tsetViewDetailModalInfo({view: true, id: uuid, name, data, buttonLoadingState: false});\n\t\t\t\tconst fieldIndexUpdated = payloadMocksSettings.findIndex(e => e[\"id\"] === uuid.toString());\n\t\t\t\tif (fieldIndexUpdated !== -1){\n\t\t\t\t\tpayloadMocksSettings[fieldIndexUpdated] = {\n\t\t\t\t\t\tid: uuid,\n\t\t\t\t\t\t...data,\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tpayloadMocksSettings.unshift({\n\t\t\t\t\t\tid: uuid,\n\t\t\t\t\t\t...data,\n\t\t\t\t\t\tname: uuid,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tsetPayloadMocksSettings([]);\n\t\t\t\tsetPayloadMocksSettings(payloadMocksSettings);\n\t\t\t}\n\t\t});\n\t}\n\tuseEffect(() => {\n\t\tasync function load(){\n\t\t\tconst data = await client.MocksGet();\n\t\t\tif ((data !== null) && (data !== undefined) && (Array.isArray(data))){\n\t\t\t\tsetPayloadMocksSettings(data);\n\t\t\t}\n\t\t}\n\t\tload();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst searchData = payloadMocksSettings.map((item) => {\n\t\t\treturn {id: item.id.toString(), name: item.id.toString()}\n\t\t});\n\t\tsetDataSearch(searchData);\n\t}, [payloadMocksSettings]);\n\n\treturn (\n\t\t<Panel id={id}>\n\t\t\t<PanelHeader>Вариационные данные</PanelHeader>\n\t\t\t<div className='mocks_wrapper'>\n\t\t\t\t<div className='left'>\n\t\t\t\t\t<SearchPanel after={\n\t\t\t\t\t\t<div className={\"ddd\"}>\n\t\t\t\t\t\t\t<Icon28AddOutline />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t} onSelect={viewDetailModal} rows={dataSearch}/>\n\t\t\t\t</div>\n\t\t\t\t<div className='right'>\n\t\t\t\t\t{viewDetailModalInfo.view ?(\n\t\t\t\t\t\t<MocksSettingsPanel\n\t\t\t\t\t\t\tid={viewDetailModalInfo.id}\n\t\t\t\t\t\t\tname={viewDetailModalInfo.name}\n\t\t\t\t\t\t\tdata={viewDetailModalInfo.data}\n\t\t\t\t\t\t\tonDelete={DeleteDetailModalData}\n\t\t\t\t\t\t\tonSave={SaveDetailModalData}\n\t\t\t\t\t\t\tglobalSetModalView={globalSetModalView}\n\t\t\t\t\t\t\tbuttonLoadingState={viewDetailModalInfo.buttonLoadingState}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<MocksSettingsPanelEmpty onClick={viewDetailModal.bind(this, null)}/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Panel>\n\t);\n}\n\nMocksSettings.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tglobalSetModalView: PropTypes.func,\n};\n\nexport default MocksSettings;\n","import { ProSidebar, Menu, MenuItem, SubMenu } from 'react-pro-sidebar';\nimport 'react-pro-sidebar/dist/css/styles.css';\nimport './MenuItems.css'\nimport {Div, Footer} from \"@vkontakte/vkui\";\nimport { Icon28LocationMapOutline } from '@vkontakte/icons';\nimport { Icon28ListOutline } from '@vkontakte/icons';\nimport { Icon28SettingsOutline } from '@vkontakte/icons';\nimport { Icon28ArrowRightOutline } from '@vkontakte/icons';\n\nimport React, {useState} from \"react\";\nimport {localStorage} from \"@vkontakte/vkjs\";\nimport {PathSubUrl} from \"../api/client\";\n\nfunction LinkTo(href) {\n    const data = document.querySelector(\"#link-to\");\n    data.href = href\n    data.click();\n}\n\nconst MainMenuIcon = ({onClick, collapsed}) => {\n    return (\n        <div onClick={onClick} className={\"CompanyNameSidebarMenu\"}>\n            <Div><h1>{collapsed ? (<Icon28ArrowRightOutline />) : \"Art of Light\"}</h1></Div>\n        </div>\n    );\n}\n\nconst loadCollapsed = () => {\n    let collapsed = localStorage.getItem(\"menuCollapsed\");\n    if (collapsed !== null){\n        collapsed = collapsed.toString();\n    }\n    if (collapsed !== \"true\" && collapsed !== \"false\") {\n        localStorage.setItem(\"menuCollapsed\", \"false\");\n        collapsed = \"false\";\n    }\n    return collapsed === \"true\";\n}\nconst saveCollapsed = (collapsed) => {\n    localStorage.setItem(\"menuCollapsed\", collapsed ? \"true\" : \"false\");\n}\n\nconst LeftMenuItem = () => {\n    const [collapsed, setCollapsed] = useState(loadCollapsed());\n\n    const saveAndSetCollapsed = (value) => {\n        setCollapsed(value);\n        saveCollapsed(value);\n    }\n\n    return (\n        <ProSidebar collapsed={collapsed} width={270} className={\"left-menu-sidebar\"}>\n            <Menu iconShape={null}>\n                <div className={\"container-menu\"}>\n                    <MainMenuIcon collapsed={collapsed} onClick={() => {saveAndSetCollapsed(!collapsed)}}/>\n                    <MenuItem onClick={LinkTo.bind(this, PathSubUrl+\"/\")} icon={<Icon28LocationMapOutline/>}>Карта</MenuItem>\n                    <MenuItem icon={<Icon28ListOutline/>}>Список устройств</MenuItem>\n                    <SubMenu title=\"Настройки\" icon={<Icon28SettingsOutline/>}>\n                        <MenuItem onClick={LinkTo.bind(this, PathSubUrl+\"/mocks-settings/\")}>Вариационные данные</MenuItem>\n                        <MenuItem>Платформа</MenuItem>\n                    </SubMenu>\n                    <Footer><div>\n                        v 0.1\n                        <a id=\"link-to\" href=\"#\" style={{display: \"none\"}} />\n                    </div></Footer>\n                </div>\n            </Menu>\n        </ProSidebar>\n    );\n}\n\nexport default LeftMenuItem;\n","import L from 'leaflet';\nimport './Markers.css';\nconst url = process.env.PUBLIC_URL + '/map-markers/';\nconst iconDefault = new L.Icon({\n    iconUrl: (url + \"default.svg\"),\n    iconRetinaUrl: (url + \"default.svg\"),\n    iconAnchor: null,\n    popupAnchor: null,\n    shadowUrl: null,\n    shadowSize: null,\n    shadowAnchor: null,\n    iconSize: new L.Point(60, 67),\n    className: 'leaflet-custom-icon'\n});\n\nexport { iconDefault };","import React, {useEffect, useState} from \"react\";\nimport {Group, Cell, Switch, FormItem, FormLayoutGroup, Slider, Spinner} from \"@vkontakte/vkui\";\nimport './PopupViewMapData.css'\nimport {CopyToClipboard} from \"react-copy-to-clipboard/lib/Component\";\nimport PropTypes from 'prop-types';\nimport * as client from \"../../api/client\";\nconst url = process.env.PUBLIC_URL + '/map-leaflet/';\n\nconst AutoLight = ({checked, disabled, setChecked}) => {\n    return (\n        <div className=\"auto-light\">\n            <div className=\"auto-light__text\">\n                Автояркость\n            </div>\n            <div className=\"auto-light__switch\">\n                <Switch disabled={disabled} onChange={setChecked.bind(this, !checked)} defaultChecked={checked} value={checked}/>\n            </div>\n        </div>\n    )\n}\n\nconst LevelLightControl = ({disabled, value, setValue}) => {\n    return (\n        <div className=\"level_light_control\">\n            <FormItem top={\n                <div className=\"text\">\n                    Яркость\n                </div>\n            }>\n                <Slider\n                    disabled={disabled}\n                    min={0}\n                    max={100}\n                    step={1}\n                    value={value}\n                    onChange={v => setValue(v)}\n                />\n            </FormItem>\n        </div>\n    )\n}\n\nconst TemperatureBlock = ({temperature}) => {\n    return (\n        <div className=\"auto-light\">\n            <div className=\"text-temp\">\n                Температура на улице\n            </div>\n            <div className=\"temperature\">\n                {temperature.toFixed(0)} °С\n            </div>\n        </div>\n    )\n}\n\nconst ResourceAny = ({name, min, max, value}) => {\n    return (\n        <div className=\"level_light_control indicator\">\n            <FormItem top={\n                <div>\n                    <div className=\"text\">\n                        {name}\n                    </div>\n                    <div className=\"text__bottom\">\n                        {value} / {max}\n                    </div>\n                </div>\n            }>\n                <Slider\n                    disabled={true}\n                    min={min}\n                    max={max}\n                    value={value}\n                />\n            </FormItem>\n        </div>\n    )\n}\n\nconst ResourceLed = ({min, max, value}) => {\n    return (\n        <ResourceAny name=\"Ресурс лампы\" min={min} max={max} value={value}/>\n    )\n}\n\nconst ResourceController = ({min, max, value}) => {\n    return (\n        <ResourceAny name=\"Ресурс контроллера\" min={min} max={max} value={value}/>\n    )\n}\n\n\nconst MetaInfoBlock = ({lat, lng}) => {\n    const [addressName, setAddressName] = useState(null);\n\n    useEffect(() => {\n        async function LoadAddress(){\n            const key = lat + \",\" + lng;\n            if (window.FunctionCustomLoadAddress === undefined){\n                window.FunctionCustomLoadAddress = {};\n            }\n            if (window.FunctionCustomLoadAddress[key] != undefined){\n                setAddressName(window.FunctionCustomLoadAddress[key]);\n            } else {\n                setAddressName(<Spinner size=\"small\"/>)\n                const ans = await client.GetDataGeoCode(lat, lng);\n                window.FunctionCustomLoadAddress[key] = ans;\n                setAddressName(ans);\n            }\n        }\n        LoadAddress();\n    }, []);\n\n    return (\n        <div className={\"meta\"}>\n            <Cell disabled>\n                <div style={{overflowY: 'scroll'}} className=\"info-marker\">{addressName}</div>\n                <div className=\"info-marker\">\n                    {lat.toFixed(4)}, {lng.toFixed(4)}\n                    <CopyToClipboard text={lat + \", \" + lng}>\n                                <span className=\"info-marker-copy\">\n                                    <img src={url + \"copy.svg\"} alt=\"Copy.svg\"/>\n                                </span>\n                    </CopyToClipboard>\n\n                </div>\n            </Cell>\n        </div>\n    )\n}\n\n\nconst HeaderBlock = ({id, value, onChange}) => {\n    return (\n        <div className={\"header\"}>\n            <Cell disabled after={<Switch value={value} defaultChecked={value} onChange={onChange.bind(this, !value)}/>}>\n                <h1>ID {id}</h1>\n            </Cell>\n        </div>\n    )\n}\n\nconst SettingsBlock = ({light, temperature, autoLight}) => {\n    return (\n        <div className=\"settings\">\n            <Cell disabled>\n                <AutoLight disabled={autoLight.disabled} checked={autoLight.checked} setChecked={autoLight.setChecked}/>\n                <LevelLightControl disabled={light.disabled} value={light.value} setValue={light.setValue}/>\n                <TemperatureBlock temperature={temperature.temperature}/>\n                <ResourceLed max={500} value={300} min={0}/>\n                <ResourceController  max={5000} value={300} min={0}/>\n            </Cell>\n        </div>\n    )\n}\nconst PopupViewMapData = ({data, onChangeCommand}) => {\n    const [popUpLoad, setPopUpLoad] = useState(true);\n    const [autoLight, setAutoLight] = useState(true);\n    const [autoLightDisabled, setAutoLightDisabled] = useState(false);\n    const setLightUpdatable = (value) => {\n        setLight(value);\n        onChangeCommand({auto: !value.disabled, level: value.value === undefined ? 0 : value.value});\n    }\n    const onChangeAutoLight = (state) => {\n        setAutoLight(state);\n        setLightUpdatable({\n            value: light.value,\n            disabled: state,\n        });\n    }\n\n    const [lampEnabled, setLampEnabled] = useState(true);\n    const onChangeHeaderSwitch = (state) => {\n        setLampEnabled(state);\n        setAutoLight(state ? autoLight: false);\n        setLightUpdatable({\n            value: state ? light.value : 0,\n            disabled: state ? autoLight : true\n        });\n        setAutoLightDisabled(!state);\n    }\n\n    const [light, setLight] = useState({value: 0, disabled: true});\n\n    useEffect(() => {\n        setAutoLight(data.autoLight);\n        setLampEnabled(data.light !== 0);\n        setLight({\n            value: data.light,\n            disabled: data.light !== 0 ? data.autoLight : false,\n        });\n        setPopUpLoad(false);\n    }, []);\n\n    const GroupViewData = () => {\n        return (\n            <Group>\n                <HeaderBlock id={data.uuid} value={lampEnabled} onChange={onChangeHeaderSwitch}/>\n                <MetaInfoBlock lat={data.positionMarker.latitude} lng={data.positionMarker.longitude}/>\n                <SettingsBlock\n                    light={{\n                        value: light.value,\n                        disabled: light.disabled,\n                        setValue: (v) => {setLightUpdatable({value: v, disabled: light.disabled})},\n                    }}\n                    autoLight={{\n                        checked: autoLight,\n                        disabled: autoLightDisabled,\n                        setChecked: onChangeAutoLight,\n                    }}\n                    temperature={{temperature: data.temperature}}\n                />\n            </Group>\n        )\n    }\n\n    return (\n        <div className={\"PopupViewMapData\"}>\n            {popUpLoad ? (<Spinner size=\"small\"/> ) : <GroupViewData/>}\n        </div>\n    )\n}\n\nMetaInfoBlock.propTypes = {\n    lat: PropTypes.number.isRequired,\n    lng: PropTypes.number.isRequired,\n}\n\nTemperatureBlock.propTypes = {\n    temperature: PropTypes.number.isRequired,\n}\n\nLevelLightControl.propTypes = {\n    value: PropTypes.number.isRequired,\n    setValue: PropTypes.func.isRequired,\n    disabled: PropTypes.bool.isRequired,\n}\n\nAutoLight.propTypes = {\n    checked: PropTypes.bool,\n    setChecked: PropTypes.func,\n    disabled: PropTypes.bool,\n}\n\nconst ResourceAnyComposition = {\n    min: PropTypes.number.isRequired,\n    max: PropTypes.number.isRequired,\n    value: PropTypes.number.isRequired,\n}\n\nResourceAny.propTypes = {\n    name: PropTypes.string.isRequired,\n    ...ResourceAnyComposition\n}\nResourceLed.propTypes = ResourceAnyComposition;\nResourceController.propTypes = ResourceAnyComposition\n\nHeaderBlock.propTypes = {\n    id: PropTypes.string.isRequired,\n    value: PropTypes.bool.isRequired,\n    onChange: PropTypes.func.isRequired,\n}\n\nSettingsBlock.propTypes = {\n    light: PropTypes.shape(LevelLightControl.propTypes),\n    temperature: PropTypes.shape(TemperatureBlock.propTypes),\n    autoLight: PropTypes.shape(AutoLight.propTypes),\n}\n\nexport const PopupViewMapDataShape = {\n    positionMarker: PropTypes.shape({\n        latitude: PropTypes.number.isRequired,\n        longitude: PropTypes.number.isRequired\n    }).isRequired,\n    temperature: PropTypes.number.isRequired,\n    uuid: PropTypes.instanceOf([PropTypes.number, PropTypes.string]).isRequired,\n    autoLight:  PropTypes.bool.isRequired,\n    light:  PropTypes.number.isRequired,\n}\n\nPopupViewMapData.propTypes = {\n    data: PropTypes.shape(PopupViewMapDataShape).isRequired,\n    onChangeCommand: PropTypes.func.isRequired,\n}\nexport default PopupViewMapData;","import {Popup} from \"react-leaflet\";\nimport './PopupSettings.css'\nimport PopupViewMapData, {PopupViewMapDataShape} from \"../FormsPanels/PopupViewMapData\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst PopupSettings = ({dataShape, onChangeCommand, onClose}) => {\n    return (\n        <div className={\"PopupSettingWrapper\"}>\n            <Popup onClose={onClose} position={[dataShape.positionMarker.latitude, dataShape.positionMarker.longitude]}>\n                <PopupViewMapData data={dataShape} onChangeCommand={onChangeCommand}/>\n            </Popup>\n        </div>\n    )\n}\n\nPopupSettings.propTypes = {\n    dataShape: PropTypes.shape(PopupViewMapDataShape).isRequired,\n    onChangeCommand: PropTypes.func.isRequired,\n    onClose: PropTypes.func.isRequired,\n}\n\nexport default PopupSettings","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\n\nimport {Panel, PanelHeader,} from '@vkontakte/vkui';\nimport {Map} from \"./MapPanels/MapsEmpty\";\nimport {Marker} from 'react-leaflet'\nimport {iconDefault} from \"./MapPanels/Markers\";\nimport PopupSettings from \"./MapPanels/PopupSettings\";\nimport * as client from \"../api/client\";\n\nconst v = (i) => {return ((i !== null) && (i !== undefined))}\n\n\nconst MarkersList = ({coords, onClick}) => {\n    if (!Array.isArray(coords)){\n        return null;\n    }\n    return coords.map((item) => {\n        return <Marker icon={iconDefault} key={item.id} position={[item.latitude, item.longitude]}\n                       eventHandlers={{\n                           click: onClick.bind(this, item.id)\n                       }}\n        />\n    });\n}\n\nconst MainMap = ({id, globalSetModalView}) => {\n    const [telemetry, setTelemetry] = useState([]);\n    const [mapsCoordsData, setMapsCoordsData] = useState([]);\n    const [popupSettingsView, setPopupSettingsView] = useState(null);\n    // Init data\n    useEffect(() => {\n        async function load() {\n            const data = await client.LastTelemetriesSensors();\n            setTelemetry(data);\n        }\n        load();\n        setInterval(() => load(), 10000);\n    }, [])\n\n    // Перерасчёт координат на карте для меток:\n    useEffect(() => {\n        const ans = [];\n        for (let row of telemetry){\n            if (v(row.influx) && v(row.influx.ICCID) && v(row.influx.longitude) && v(row.influx.latitude)){\n                ans.push({\n                    id: row.influx.ICCID,\n                    longitude: row.influx.longitude,\n                    latitude: row.influx.latitude\n                })\n            }\n        }\n        setMapsCoordsData(ans);\n\n    }, [telemetry])\n\n    const HandlerMarker = (uuid) => {\n        setPopupSettingsView(true);\n        const fieldIndexTelemetry = telemetry.findIndex((e) => {\n            if (v(e[\"influx\"]) && v(e[\"influx\"][\"ICCID\"])) {\n                return e[\"influx\"][\"ICCID\"] === uuid.toString();\n            }\n            return false;\n        });\n        if (fieldIndexTelemetry === -1){return false;}\n        const telemetry_data = telemetry[fieldIndexTelemetry];\n        const coords = {\n            latitude: telemetry_data.influx.latitude,\n            longitude: telemetry_data.influx.longitude,\n        }\n        const onChangeCommand = ({auto, level}) => {\n            console.log({uuid, auto, level});\n            client.PushCommandTelemetriesSensor(uuid, auto, level).then();\n        }\n        setPopupSettingsView(\n            <PopupSettings onClose={setPopupSettingsView.bind(this, null)} dataShape={{\n                positionMarker: coords,\n                temperature: telemetry_data.influx.Tamb_degC,\n                uuid: uuid.toString(),\n                autoLight: telemetry_data.command.auto === undefined,\n                light: telemetry_data.command === undefined ? telemetry_data.influx.level_light: telemetry_data.command.level_light\n            }} onChangeCommand={onChangeCommand}/>\n        );\n    }\n\n\n    return (\n        <Panel id={id}>\n            <PanelHeader>Вариационные данные</PanelHeader>\n            <div className={\"mocks_wrapper\"}>\n                <Map height={\"100%\"}>\n                    <MarkersList onClick={HandlerMarker} coords={mapsCoordsData}/>\n                    {popupSettingsView}\n                </Map>\n            </div>\n        </Panel>\n    );\n}\n\nMarkersList.propTypes = {\n    coords: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.string.isRequired,\n            latitude: PropTypes.number.isRequired,\n            longitude: PropTypes.number.isRequired,\n        })\n    ),\n    onClick: PropTypes.func.isRequired,\n}\n\nMainMap.propTypes = {\n    id: PropTypes.string.isRequired,\n    globalSetModalView: PropTypes.func,\n};\n\nexport default MainMap;\n","import React, { useState, useEffect } from 'react';\nimport { View, AppRoot } from '@vkontakte/vkui';\nimport { BrowserRouter as Router, Route} from 'react-router-dom';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './style.css'\n\nimport MocksSettings from './panels/MocksSettings';\nimport LeftMenuItem from \"./panels/MenuItems\";\nimport MainMap from \"./panels/MainMap\";\nimport {PathSubUrl} from \"./api/client\";\n\nconst App = () => {\n\tconst [popout, setPopout] = useState(null);\n\tconst [modalView, setModalView] = useState(null);\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tsetPopout(null);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst Wrapper = (id, component) => (\n\t\t<View activePanel={id}>{component}</View>\n\t);\n\n\tconst RouteMocksSettings = () => Wrapper('mocksSettings', <MocksSettings globalSetModalView={setModalView} id='mocksSettings'/>);\n\tconst RouteMainMap = () => Wrapper('mainMap', <MainMap globalSetModalView={setModalView} id='mainMap'/>);\n\n\n\treturn (\n\t\t<Router>\n\t\t\t<AppRoot>\n\t\t\t\t<LeftMenuItem/>\n\t\t\t\t{modalView}\n\t\t\t\t<div className={\"Content\"}>\n\t\t\t\t\t<Route path={PathSubUrl+\"/mocks-settings/\"} exact component={RouteMocksSettings} />\n\t\t\t\t\t<Route path={PathSubUrl+\"/\"} exact component={RouteMainMap} />\n\t\t\t\t</div>\n\t\t\t</AppRoot>\n\t\t</Router>\n\t);\n\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}